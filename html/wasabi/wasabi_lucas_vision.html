<!DOCTYPE html>
<!--
==============================================================================
           "GitHub HTML5 Pandoc Template" v2.2 — by Tristano Ajmone
==============================================================================
Copyright © Tristano Ajmone, 2017-2020, MIT License (MIT). Project's home:

- https://github.com/tajmone/pandoc-goodies

The CSS in this template reuses source code taken from the following projects:

- GitHub Markdown CSS: Copyright © Sindre Sorhus, MIT License (MIT):
  https://github.com/sindresorhus/github-markdown-css

- Primer CSS: Copyright © 2016-2017 GitHub Inc., MIT License (MIT):
  http://primercss.io/

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
The MIT License

Copyright (c) Tristano Ajmone, 2017-2020 (github.com/tajmone/pandoc-goodies)
Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com)
Copyright (c) 2017 GitHub Inc.

"GitHub Pandoc HTML5 Template" is Copyright (c) Tristano Ajmone, 2017-2020,
released under the MIT License (MIT); it contains readaptations of substantial
portions of the following third party softwares:

(1) "GitHub Markdown CSS", Copyright (c) Sindre Sorhus, MIT License (MIT).
(2) "Primer CSS", Copyright (c) 2016 GitHub Inc., MIT License (MIT).

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
==============================================================================-->
<html>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>My vision for Wasabi</title>
  <style type="text/css">
@charset "UTF-8";.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:16px;line-height:1.5;word-wrap:break-word;box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto;padding:45px}.markdown-body a{color:#0366d6;background-color:transparent;text-decoration:none;-webkit-text-decoration-skip:objects}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body a:hover{text-decoration:underline}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body strong{font-weight:600}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1{font-size:2em;margin:.67em 0;padding-bottom:.3em;border-bottom:1px solid #eaecef}.markdown-body h2{padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid #eaecef}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body img{border-style:none}.markdown-body svg:not(:root){overflow:hidden}.markdown-body hr{box-sizing:content-box;height:.25em;margin:24px 0;padding:0;overflow:hidden;background-color:#e1e4e8;border:0}.markdown-body hr::before{display:table;content:""}.markdown-body hr::after{display:table;clear:both;content:""}.markdown-body input{margin:0;overflow:visible;font:inherit;font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dd{margin-left:0}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body code{font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace}.markdown-body pre{font:12px SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;word-wrap:normal}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body table{display:block;width:100%;overflow:auto;border-spacing:0;border-collapse:collapse}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body code{padding:.2em 0;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code::after,.markdown-body code::before{letter-spacing:-.2em;content:" "}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:0 0;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code::after,.markdown-body pre code::before{content:normal}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body kbd{box-shadow:inset 0 -1px 0 #959da5;display:inline-block;padding:3px 5px;font:11px/10px SFMono-Regular,Consolas,"Liberation Mono",Menlo,Courier,monospace;color:#444d56;vertical-align:middle;background-color:#fcfcfc;border:1px solid #c6cbd1;border-bottom-color:#959da5;border-radius:3px;box-shadow:inset 0 -1px 0 #959da5}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown-body::before{display:table;content:""}.markdown-body::after{display:table;clear:both;content:""}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.Alert,.Error,.Note,.Success,.Warning{padding:11px;margin-bottom:24px;border-style:solid;border-width:1px;border-radius:4px}.Alert p,.Error p,.Note p,.Success p,.Warning p{margin-top:0}.Alert p:last-child,.Error p:last-child,.Note p:last-child,.Success p:last-child,.Warning p:last-child{margin-bottom:0}.Alert{color:#246;background-color:#e2eef9;border-color:#bac6d3}.Warning{color:#4c4a42;background-color:#fff9ea;border-color:#dfd8c2}.Error{color:#911;background-color:#fcdede;border-color:#d2b2b2}.Success{color:#22662c;background-color:#e2f9e5;border-color:#bad3be}.Note{color:#2f363d;background-color:#f6f8fa;border-color:#d5d8da}.Alert h1,.Alert h2,.Alert h3,.Alert h4,.Alert h5,.Alert h6{color:#246;margin-bottom:0}.Warning h1,.Warning h2,.Warning h3,.Warning h4,.Warning h5,.Warning h6{color:#4c4a42;margin-bottom:0}.Error h1,.Error h2,.Error h3,.Error h4,.Error h5,.Error h6{color:#911;margin-bottom:0}.Success h1,.Success h2,.Success h3,.Success h4,.Success h5,.Success h6{color:#22662c;margin-bottom:0}.Note h1,.Note h2,.Note h3,.Note h4,.Note h5,.Note h6{color:#2f363d;margin-bottom:0}.Alert h1:first-child,.Alert h2:first-child,.Alert h3:first-child,.Alert h4:first-child,.Alert h5:first-child,.Alert h6:first-child,.Error h1:first-child,.Error h2:first-child,.Error h3:first-child,.Error h4:first-child,.Error h5:first-child,.Error h6:first-child,.Note h1:first-child,.Note h2:first-child,.Note h3:first-child,.Note h4:first-child,.Note h5:first-child,.Note h6:first-child,.Success h1:first-child,.Success h2:first-child,.Success h3:first-child,.Success h4:first-child,.Success h5:first-child,.Success h6:first-child,.Warning h1:first-child,.Warning h2:first-child,.Warning h3:first-child,.Warning h4:first-child,.Warning h5:first-child,.Warning h6:first-child{margin-top:0}h1.title,p.subtitle{text-align:center}h1.title.followed-by-subtitle{margin-bottom:0}p.subtitle{font-size:1.5em;font-weight:600;line-height:1.25;margin-top:0;margin-bottom:16px;padding-bottom:.3em}div.line-block{white-space:pre-line}
  </style>
  <style type="text/css">code{white-space: pre;}</style>
    <link rel="stylesheet" href="highlight/styles/default.min.css">
  <link rel="stylesheet" href="none.css">
    <script src="highlight/highlight.min.js"></script>
</head>
<body>
<article class="markdown-body">
<a href="index.html">Wiki Home</a>
<header>
<h1 class="title">My vision for Wasabi</h1>
</header>
<hr>
<nav id="TOC">
<h1 class="toc-title">Contents</h1>
<ul>
<li><a href="#wabisabi">WabiSabi</a></li>
<li><a href="#to-wallet-or-not-to-wallet">To Wallet or not to wallet</a></li>
<li><a href="#service">Service</a></li>
<li><a href="#p2ep">P2EP</a></li>
<li><a href="#service-should-not-depend-on-a-server">Service should NOT depend on a server</a></li>
<li><a href="#technological-update">Technological update</a></li>
<li><a href="#amount-decomposition">Amount decomposition</a></li>
<li><a href="#multi-account-wallet">Multi-account wallet</a></li>
<li><a href="#re-architecture-the-solution">Re-architecture the solution</a></li>
<li><a href="#lightning-network">Lightning network</a></li>
<li><a href="#remove-failed-things">Remove failed things</a></li>
</ul>
</nav>
<hr>
<p>I’ve commented many times to different people inside as well as outside zkSNACKs about how my vision about what Wasabi should be is quite different than the official one and, even when I am aligned to The one I think I have never explained what that vision is and what that implies in practical/technical terms so, here I go.</p>
<h1 id="wabisabi">WabiSabi</h1>
<p>WabiSabi is THE thing, it is the innovation, what makes us unique and provides the best chances of providing privacy at low cost for more people. WabiSabi is the service that we provide and the only one that allows the zkSNACks team to be funded to continue working on privacy solutions.</p>
<p>Taking advantage of this technology is one of the most important things we should focus on. This means that payments in coinjoins, P2EP (anonymous payments using the credentials system), open lightning channels in coinjoins, batching payments (related to all the previous ones) is the important part.</p>
<h1 id="to-wallet-or-not-to-wallet">To Wallet or not to wallet</h1>
<p>No, not to wallet. Wasabi wallet client should have being the first bridge to consume the coinjoin-as-a-service service but it became the Only way to access to the service, it is basically a gate keeper that doesn’t let WabiSabi to reach all the potential that it can achieve.</p>
<p>The Wasabi client (the wallet software) should be just a user-friendly way to participate in coinjoins but not the only way to do it. In my vision many developers should be allowed to build on top of our solution and create useful things that we cannot even imagine. This is something developers want to do and have been trying to do for a while with scripts in bash and python, while other tried to integrate the monolithic wallet using the rpc interface or porting to other platforms or rewriting part of the code, etc. Maintainers don’t make it easier for them because the official vision is a wallet for Peter McCormack.</p>
<h1 id="service">Service</h1>
<p>Wasabi should run as a service/daemon all the time and not as a desktop wallet that we hide when the user attempt to close it. In fact, it should be a tiny, low resource (low cpu, low memory, low bandwidth) service that receives a compact filter every 10 minutes, some information about the existing rounds and nothing else, except when it is mixing of course.</p>
<p>The development of the daemon and the client should be 100% separated. The daemon would provide an API using gRPC (protobuf) so, the UI clients could consume it. The Avalonia UI could be adapted in a more or less transparent way while other clients could be developed by others (WebUI, CLI, Slack bot, whatever)</p>
<p>This implies that things like the sleep-prevention and the single-instance checker, among other atrocities, should be removed. The lifetime management of the UI and the daemon should be effectively different.</p>
<h1 id="p2ep">P2EP</h1>
<p>With Wasabi running as a daemon the P2EP idea is somehow easier to achieve and the idea is to introduce payments in coinjoins first. This is the first really awesome app for WabiSabi because we can make payments really private. This is the post-mix killer. This is the next big thing bitcoin privacy and only we can do it because it requires wabisabi (and tor control) that we already have.</p>
<h1 id="service-should-not-depend-on-a-server">Service should NOT depend on a server</h1>
<p>The Wasabi service should be able to work independently of the existence of a coordinator. This means that the compact filters should be taken from the p2p network (or from the wasabi p2p network) while the fee rates could be obtained from an oracle or a trusted node but it is unacceptable the fact that users money is unspendable when the coordinator is unavailable. As an alternative the IndexBuilder could be extracted and generate the exact same filters (and filter headers ) that Core generates and it could be run but other actors or in multiple servers of even in local servers by the users how have a pruned node (Core doesn’t allow to generate compact filter for pruned node so we can provide that)</p>
<p>Price (BTC/USD rate) is a dangerous feature that should not be used by the service. The UI can have configured some rate provider that is trusted by the user but zkSNACKs (or the coordinator) should NOT provide this info at all.</p>
<p>In other words, the only component in the coordinator should be the one that coordinates the coinjoins.</p>
<h1 id="technological-update">Technological update</h1>
<p>Wasabi should work with taproot scripts. This is something that many could need to implement solutions involving complex scripts.</p>
<p>Wasabi should support wallet descriptors for interoperability and it is something that would be necessary to go from a multi-wallets wallet to a multi-accounts wallet (what would solve a few problems btw)</p>
<p>Wasabi should implement SLIP-39 as the default backup mechanism what would allow backing up users’ seeds in the cloud and it is also safer.</p>
<p>Wasabi should use the SigNet network for testing and should NOT provide testnet nor signet for final users (they should be able to spacify the network in the command line only)</p>
<h1 id="amount-decomposition">Amount decomposition</h1>
<p>There should not be change in the coinjoins. There should not be unequal outputs in the coinjoins. The amount organization should be re-design.</p>
<h1 id="multi-account-wallet">Multi-account wallet</h1>
<p>Wasabi should be a multi account wallet</p>
<h1 id="re-architecture-the-solution">Re-architecture the solution</h1>
<p>Each component should have its own place and should be able to be deployed independently of other components. IndexService could be an independent application running in who knows how many servers. The fee rate oracle should be also an independent component. We should not provide BTC/USD rate but in case we do it it should be also an independent components.</p>
<p>The website should not be part of the wallet software at all.</p>
<p>The wasabi service should be one independent of the UI.</p>
<p>etc.</p>
<h1 id="lightning-network">Lightning network</h1>
<p>F**ck that. I mean, i think lightning is awesome but that’s not what we are good at, that’s something that many other wallets can do much much better than us so, no, no lightning support.</p>
<h1 id="remove-failed-things">Remove failed things</h1>
<p>In my vision the current RPC is completely removed as well as payjoin support because it didn’t gain any traction. The bitcoin full node integration should be also removed because it doesn’t do what users expect and it is a huge amount of failed code.</p>
<p>Password finder is the most obvious and absurd piece of trash that should be eliminated immediately.</p>
<p>Other candidates are: terms and conditions. legal documents, all WW 1 code, wallet backups folder, dust threshold, kitchen, clearnet backup (should be remove completely)</p>
</article>
<script>hljs.highlightAll();</script>
</body>
</html>
